{"version":3,"file":"js/app.ce0f7af0.js","mappings":"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","sources":["webpack://ai/./src/App.vue","webpack://ai/./src/App.vue?7ccd","webpack://ai/./src/api/deepseek.js","webpack://ai/./src/components/GameContainer.vue","webpack://ai/./src/components/GameContainer.vue?9291","webpack://ai/./src/views/GameView.vue","webpack://ai/./src/views/GameView.vue?3e8c","webpack://ai/./src/router/index.js","webpack://ai/./src/main.js","webpack://ai/webpack/bootstrap","webpack://ai/webpack/runtime/chunk loaded","webpack://ai/webpack/runtime/define property getters","webpack://ai/webpack/runtime/global","webpack://ai/webpack/runtime/hasOwnProperty shorthand","webpack://ai/webpack/runtime/make namespace object","webpack://ai/webpack/runtime/jsonp chunk loading","webpack://ai/webpack/startup"],"sourcesContent":["<template>\n  <router-view />\n</template>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n</style>","import { render } from \"./App.vue?vue&type=template&id=03de9741\"\nconst script = {}\n\nimport \"./App.vue?vue&type=style&index=0&id=03de9741&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import axios from 'axios';\n\n// DeepSeek API配置\nconst DEEPSEEK_API_KEY = 'sk-ccbec3a34599494f8cdd5ed2add8363e'; // 用户提供的API Key，请替换为实际密钥\nconst API_BASE_URL = 'https://api.deepseek.com/v1/chat/completions';\n\n// 创建axios实例\nconst deepseekApi = axios.create({\n  baseURL: API_BASE_URL,\n  headers: {\n    'Content-Type': 'application/json',\n    'Authorization': `Bearer ${DEEPSEEK_API_KEY}`\n  }\n});\n\n// 随机场景列表，增加谜题多样性\nconst RANDOM_SCENARIOS = [\n  \"医院\", \"学校\", \"办公室\", \"森林\", \"海边\", \"太空站\",\n  \"古寺庙\", \"未来城市\", \"火车上\", \"沙漠\", \"海底\", \"雪山\"\n];\n\n/**\n * 获取随机场景提示\n */\nconst getRandomScenario = () => {\n  const randomIndex = Math.floor(Math.random() * RANDOM_SCENARIOS.length);\n  return RANDOM_SCENARIOS[randomIndex];\n};\n\n/**\n * 调用DeepSeek API生成海龟汤谜题和汤底\n * @returns {Promise<{puzzle: string, answer: string, conditions: string[]}>} 包含谜题、汤底和核心条件的对象\n */\nexport const generatePuzzle = async () => {\n  try {\n    // 获取随机场景\n    const randomScenario = getRandomScenario();\n    \n    const response = await deepseekApi.post('', {\n      model: 'deepseek-chat',\n      messages: [\n        {\n          role: 'system',\n          content: `你是一个海龟汤游戏主持人。请生成一个包含多个核心条件的海龟汤谜题，格式必须严格遵循：\n1. 首先输出\"谜题：\"，然后是谜题描述\n2. 然后输出\"核心条件：\"，列出3-5个解开谜题必须满足的关键条件，用数字编号\n3. 最后输出\"汤底：\"，然后是完整答案。\n不要添加任何额外内容或解释。`\n        },\n        {\n          role: 'user',\n          content: `请生成一个发生在${randomScenario}场景的海龟汤谜题，确保包含3-5个核心条件。`\n        }\n      ],\n      max_tokens: 500,\n      temperature: 1.1,\n      top_p: 0.9\n    });\n    \n    const content = response.data.choices[0].message.content;\n    console.log('生成谜题原始响应:', content);\n    \n    // 解析谜题、核心条件和汤底\n    const puzzleMatch = content.match(/谜题：([\\s\\S]*?)核心条件：/);\n    const conditionsMatch = content.match(/核心条件：([\\s\\S]*?)汤底：/);\n    const answerMatch = content.match(/汤底：([\\s\\S]*)/);\n    \n    if (!puzzleMatch || !conditionsMatch || !answerMatch) {\n      throw new Error('无法解析谜题格式，缺少必要部分');\n    }\n    \n    // 提取核心条件列表\n    const conditions = conditionsMatch[1]\n      .split(/\\d+\\./)\n      .filter(item => item.trim())\n      .map(item => item.trim());\n    \n    const puzzle = puzzleMatch[1].trim();\n    const answer = answerMatch[1].trim();\n    \n    console.log('解析结果 - 谜题:', puzzle);\n    console.log('解析结果 - 核心条件:', conditions);\n    console.log('解析结果 - 汤底:', answer);\n    \n    return { puzzle, answer, conditions };\n  } catch (error) {\n    console.error('生成谜题失败:', error.response?.data || error.message);\n    throw new Error('无法生成谜题，请稍后重试');\n  }\n};\n\n/**\n * 向DeepSeek API发送用户问题并获取回答\n * @param {string} puzzle 当前谜题\n * @param {string} soupBase 汤底答案\n * @param {string[]} conditions 核心条件列表\n * @param {Array} chatHistory 对话历史（确保是数组）\n * @param {string} question 用户当前问题\n * @returns {Promise<{answer: string, isCorrect: boolean, partial: boolean, hint: string}>} \n *          AI回答、是否完全正确、是否部分正确、提示信息\n */\nexport const askQuestion = async (puzzle, soupBase, conditions, chatHistory, question) => {\n  // 确保chatHistory是数组\n  const safeChatHistory = Array.isArray(chatHistory) ? chatHistory : [];\n  \n  // 构建对话历史消息\n  const messages = [\n    {\n      role: 'system',\n      content: `你是一个海龟汤游戏主持人。根据以下谜题情境、核心条件和汤底，回答用户的问题：\n      \n      谜题情境: ${puzzle}\n      核心条件: ${conditions.map((cond, i) => `${i+1}. ${cond}`).join('\\n')}\n      汤底答案: ${soupBase}\n      \n      回答规则:\n      1. 首先判断用户的问题是否涉及核心条件\n      2. 如果用户完全猜对所有核心条件，回答格式：\"[完全正确]恭喜你完全猜对了！汤底是：${soupBase}\"\n      3. 如果用户猜对部分核心条件，回答格式：\"[部分正确]你猜对了：[正确条件]，还缺少：[缺少条件]\"\n      4. 如果用户没有猜对任何核心条件，根据问题内容回答\"是\"、\"否\"或\"无法回答\"\n      5. 只返回上述规定的内容，不要有任何多余文字`\n    }\n  ];\n  \n  // 添加对话历史（确保是数组且只包含有效消息）\n  safeChatHistory.forEach(item => {\n    if (item && typeof item === 'object' && item.role && item.content) {\n      messages.push({ \n        role: item.role, \n        content: item.content \n      });\n    }\n  });\n  \n  // 添加当前问题\n  messages.push({ role: 'user', content: question });\n  \n  try {\n    const response = await deepseekApi.post('', {\n      model: 'deepseek-chat',\n      messages: messages,\n      max_tokens: 200,\n      temperature: 0.5,\n      top_p: 0.7\n    });\n    \n    const answer = response.data.choices[0].message.content.trim();\n    console.log('API原始响应:', answer);\n    \n    // 判断响应类型\n    if (answer.startsWith('[完全正确]')) {\n      return {\n        answer: answer.replace('[完全正确]', '').trim(),\n        isCorrect: true,\n        partial: false,\n        hint: ''\n      };\n    } else if (answer.startsWith('[部分正确]')) {\n      return {\n        answer: answer.replace('[部分正确]', '').trim(),\n        isCorrect: false,\n        partial: true,\n        hint: answer.replace('[部分正确]', '').trim()\n      };\n    } else {\n      return {\n        answer: answer,\n        isCorrect: false,\n        partial: false,\n        hint: ''\n      };\n    }\n  } catch (error) {\n    console.error('提问失败:', error.response?.data || error.message);\n    console.error('请求参数:', JSON.stringify(messages, null, 2));\n    throw new Error('无法获取回答，请稍后重试');\n  }\n};\n\nexport default deepseekApi;","<template>\n  <div class=\"game-container\" v-cloak>\n    <!-- 顶部导航栏 -->\n    <div class=\"navbar\">\n      <h1>海龟汤游戏</h1>\n    </div>\n    \n    <!-- 对话区域 -->\n    <div class=\"chat-container\" id=\"chatContainer\">\n      <!-- 对话历史 -->\n      <div class=\"message-list\">\n        <!-- 系统提示 -->\n        <div class=\"system-message\">\n          <span>游戏开始</span>\n        </div>\n        \n        <!-- 初始消息 -->\n        <div class=\"message-left\">\n          <div class=\"message-bubble\">\n            <p>欢迎来到海龟汤游戏！我会回答\"是\"、\"否\"或\"无法回答\"，请开始提问。</p>\n            <span class=\"timestamp\">{{ formatTime(Date.now()) }}</span>\n          </div>\n        </div>\n        \n        <!-- 谜题消息 -->\n        <div class=\"message-left\" v-if=\"puzzle\">\n          <div class=\"message-bubble\">\n            <p>{{ puzzle }}</p>\n            <span class=\"timestamp\">{{ formatTime(Date.now()) }}</span>\n          </div>\n        </div>\n        \n        <!-- 加载状态 -->\n        <div class=\"loading\" v-if=\"isLoading\">\n          <div class=\"spinner\"></div>\n        </div>\n        \n        <!-- 对话消息 -->\n        <div v-for=\"(message, index) in chatHistory\" :key=\"index\" :class=\"message.role === 'assistant' ? 'message-left' : 'message-right'\">\n          <div class=\"message-bubble\">\n            <p>{{ message.content }}</p>\n            <span class=\"timestamp\">{{ formatTime(message.timestamp) }}</span>\n          </div>\n        </div>\n        \n        <!-- 游戏结束 -->\n        <div class=\"game-over\" v-if=\"gameOver\">\n          <h3>游戏结束</h3>\n          <p>核心条件：</p>\n          <ul>\n            <li v-for=\"(cond, i) in conditions\" :key=\"i\">{{ cond }}</li>\n          </ul>\n          <p>汤底：{{ soupBase }}</p>\n          <button @click=\"restartGame\">再来一局</button>\n        </div>\n      </div>\n    </div>\n    \n    <!-- 输入区域 -->\n    <div class=\"input-area\" v-if=\"!gameOver\">\n      <form @submit.prevent=\"handleSubmit\">\n        <input\n          v-model=\"question\"\n          type=\"text\"\n          placeholder=\"输入你的问题...\"\n          :disabled=\"isLoading\"\n        >\n        <button\n          type=\"submit\"\n          :disabled=\"!question.trim() || isLoading\"\n        >\n          发送\n        </button>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted, nextTick } from 'vue';\nimport { generatePuzzle, askQuestion } from '@/api/deepseek';\n\n// 游戏状态\nconst isLoading = ref(false);\nconst gameOver = ref(false);\nconst puzzle = ref('');\nconst question = ref('');\nconst chatHistory = ref([]); \nconst soupBase = ref('');\nconst conditions = ref([]); \n\n// 格式化时间\nconst formatTime = (timestamp) => {\n  const date = new Date(timestamp);\n  return date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\n};\n\n// 开始游戏\nconst startGame = async () => {\n  isLoading.value = true;\n  gameOver.value = false;\n  chatHistory.value = []; \n  puzzle.value = '';\n  soupBase.value = '';\n  conditions.value = []; \n  question.value = '';\n  \n  try {\n    // 仅在游戏开始时获取谜题和汤底，不获取条件\n    const { puzzle: puzzleText, answer } = await generatePuzzle();\n    puzzle.value = puzzleText;\n    soupBase.value = answer;\n    // 条件仅在游戏结束时获取\n  } catch (error) {\n    puzzle.value = '游戏加载失败，请刷新页面重试';\n    console.error('游戏初始化失败:', error);\n  } finally {\n    isLoading.value = false;\n    scrollToBottom();\n  }\n};\n\n// 提交问题 - 严格限制只处理answer和isCorrect\nconst handleSubmit = async () => {\n  if (!question.value.trim() || gameOver.value) return;\n  \n  const userQuestion = question.value.trim();\n  question.value = '';\n  \n  // 添加用户问题到对话历史\n  chatHistory.value.push({\n    role: 'user',\n    content: userQuestion,\n    timestamp: Date.now()\n  });\n  \n  scrollToBottom();\n  isLoading.value = true;\n  \n  try {\n    // API调用仅获取answer和isCorrect，忽略其他参数\n    const { answer, isCorrect, conditions: conditionsList } = await askQuestion(\n      puzzle.value, \n      soupBase.value, \n      [], // 不传递条件列表\n      chatHistory.value,\n      userQuestion\n    );\n    \n    // 添加AI回答到对话历史（仅\"是\"/\"否\"/\"无法回答\"）\n    chatHistory.value.push({\n      role: 'assistant',\n      content: answer,\n      timestamp: Date.now()\n    });\n    \n    // 只有完全正确时才结束游戏并获取条件\n    if (isCorrect) {\n      gameOver.value = true;\n      // 仅在此时获取并设置条件列表\n      conditions.value = Array.isArray(conditionsList) ? conditionsList : [];\n    }\n  } catch (error) {\n    chatHistory.value.push({\n      role: 'assistant',\n      content: '获取回答失败，请重试',\n      timestamp: Date.now()\n    });\n    console.error('提问处理失败:', error);\n  } finally {\n    isLoading.value = false;\n    scrollToBottom();\n  }\n};\n\n// 重新开始游戏\nconst restartGame = () => {\n  startGame();\n};\n\n// 滚动到底部\nconst scrollToBottom = () => {\n  nextTick(() => {\n    const container = document.getElementById('chatContainer');\n    if (container) {\n      container.scrollTop = container.scrollHeight;\n    }\n  });\n};\n\n// 页面加载后立即初始化游戏\nonMounted(() => {\n  startGame();\n});\n</script>\n\n<style scoped>\n/* 基础样式重置 */\n* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;\n}\n\n/* 防止初始闪动 */\n[v-cloak] {\n  display: none;\n}\n\n/* 整体布局 - 固定高度100vh */\n.game-container {\n  width: 100%;\n  max-width: 800px;\n  margin: 0 auto;\n  background-color: #e5e5e5; /* 统一灰色背景 */\n  height: 100vh; /* 固定高度 */\n  display: flex;\n  flex-direction: column;\n  overflow: hidden; /* 防止整体滚动 */\n}\n\n/* 顶部导航栏 */\n.navbar {\n  background-color: #2563eb;\n  color: white;\n  padding: 12px 16px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n  z-index: 10;\n}\n\n.navbar h1 {\n  font-size: 1.25rem;\n  font-weight: bold;\n  text-align: center;\n}\n\n/* 对话区域 - 可滚动并隐藏滚动条 */\n.chat-container {\n  flex: 1;\n  overflow-y: auto;\n  padding: 16px;\n  padding-bottom: 80px; /* 为固定输入框预留空间 */\n  background-color: #e5e5e5; /* 灰色背景 */\n  \n  /* 隐藏滚动条 */\n  -ms-overflow-style: none;  /* IE and Edge */\n  scrollbar-width: none;  /* Firefox */\n}\n\n/* Chrome, Safari 和 Opera */\n.chat-container::-webkit-scrollbar {\n  display: none;\n}\n\n.message-list {\n  max-width: 512px;\n  margin: 0 auto;\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n}\n\n/* 系统提示 */\n.system-message {\n  display: flex;\n  justify-content: center;\n}\n\n.system-message span {\n  background-color: #d1d5db;\n  color: #4b5563;\n  padding: 4px 12px;\n  border-radius: 16px;\n  font-size: 0.75rem;\n}\n\n/* 消息气泡基础样式 */\n.message-bubble {\n  padding: 12px 16px;\n  border-radius: 18px;\n  max-width: 75%;\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n}\n\n.message-bubble p {\n  margin-bottom: 4px;\n  line-height: 1.4;\n}\n\n.timestamp {\n  font-size: 0.7rem;\n  display: block;\n}\n\n/* 左侧消息 (API) */\n.message-left {\n  display: flex;\n  justify-content: flex-start;\n}\n\n.message-left .message-bubble {\n  background-color: white;\n  color: #1f2937;\n  border-top-left-radius: 4px;\n}\n\n.message-left .timestamp {\n  color: #9ca3af;\n  text-align: left;\n}\n\n/* 右侧消息 (用户) */\n.message-right {\n  display: flex;\n  justify-content: flex-end;\n}\n\n.message-right .message-bubble {\n  background-color: #2563eb;\n  color: white;\n  border-top-right-radius: 4px;\n}\n\n.message-right .timestamp {\n  color: #bfdbfe;\n  text-align: right;\n}\n\n/* 加载状态 */\n.loading {\n  display: flex;\n  justify-content: center;\n  padding: 16px;\n}\n\n.spinner {\n  width: 24px;\n  height: 24px;\n  border: 3px solid rgba(37, 99, 235, 0.2);\n  border-radius: 50%;\n  border-top-color: #2563eb;\n  animation: spin 1s ease-in-out infinite;\n}\n\n@keyframes spin {\n  to { transform: rotate(360deg); }\n}\n\n/* 游戏结束 */\n.game-over {\n  text-align: center;\n  padding: 16px;\n  background-color: #d1d5db;\n  border: 1px solid #9ca3af;\n  border-radius: 12px;\n}\n\n.game-over h3 {\n  font-size: 1.2rem;\n  font-weight: bold;\n  color: #4b5563;\n  margin-bottom: 8px;\n}\n\n.game-over p {\n  color: #374151;\n  margin-bottom: 8px;\n}\n\n.game-over ul {\n  text-align: left;\n  margin-left: 24px;\n  margin-bottom: 16px;\n  color: #374151;\n}\n\n.game-over button {\n  background-color: #2563eb;\n  color: white;\n  border: none;\n  padding: 8px 20px;\n  border-radius: 20px;\n  font-weight: medium;\n  cursor: pointer;\n  transition: background-color 0.2s;\n}\n\n.game-over button:hover {\n  background-color: #1d4ed8;\n}\n\n/* 输入区域 - 固定在底部 */\n.input-area {\n  background-color: #d1d5db;\n  padding: 12px;\n  border-top: 1px solid #9ca3af;\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  max-width: 800px;\n  margin: 0 auto;\n}\n\n.input-area form {\n  display: flex;\n  gap: 8px;\n  max-width: 512px;\n  margin: 0 auto;\n}\n\n.input-area input {\n  flex: 1;\n  padding: 10px 16px;\n  border: 1px solid #9ca3af;\n  border-radius: 20px;\n  outline: none;\n  transition: border-color 0.2s;\n  background-color: white;\n}\n\n.input-area input:focus {\n  border-color: #2563eb;\n}\n\n.input-area button {\n  background-color: #2563eb;\n  color: white;\n  border: none;\n  padding: 0 20px;\n  border-radius: 20px;\n  font-weight: medium;\n  cursor: pointer;\n  transition: background-color 0.2s;\n}\n\n.input-area button:hover {\n  background-color: #1d4ed8;\n}\n\n.input-area button:disabled {\n  background-color: #93c5fd;\n  cursor: not-allowed;\n}\n\n/* 响应式调整 */\n@media (max-width: 640px) {\n  .message-bubble {\n    max-width: 85%;\n  }\n  \n  .chat-container {\n    padding: 12px 8px;\n    padding-bottom: 70px; /* 移动端输入框预留空间 */\n  }\n  \n  .input-area {\n    padding: 8px;\n  }\n}\n</style>","import script from \"./GameContainer.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./GameContainer.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./GameContainer.vue?vue&type=style&index=0&id=dc7baed6&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-dc7baed6\"]])\n\nexport default __exports__","<template>\n  <div class=\"min-h-screen bg-gradient-to-b from-indigo-50 to-white\">\n    <GameContainer />\n  </div>\n</template>\n\n<script setup>\nimport GameContainer from '@/components/GameContainer.vue';\n</script>\n\n<style scoped>\n/* 全局样式 */\n</style>","import script from \"./GameView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./GameView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./GameView.vue?vue&type=style&index=0&id=59302ca8&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-59302ca8\"]])\n\nexport default __exports__","import { createRouter, createWebHistory } from 'vue-router';\nimport GameView from '../views/GameView.vue';\n\nconst routes = [\n  {\n    path: '/',\n    name: 'game',\n    component: GameView\n  }\n];\n\nconst router = createRouter({\n  history: createWebHistory(),\n  routes\n});\n\nexport default router;","import { createApp } from 'vue';\nimport App from './App.vue';\nimport router from './router';\nimport './index.css';\n\ncreateApp(App)\n  .use(router)\n  .mount('#app');","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkai\"] = self[\"webpackChunkai\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(296); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_createBlock","_component_router_view","script","__exports__","render","DEEPSEEK_API_KEY","API_BASE_URL","deepseekApi","axios","create","baseURL","headers","RANDOM_SCENARIOS","getRandomScenario","randomIndex","Math","floor","random","length","generatePuzzle","async","randomScenario","response","post","model","messages","role","content","max_tokens","temperature","top_p","data","choices","message","console","log","puzzleMatch","match","conditionsMatch","answerMatch","Error","conditions","split","filter","item","trim","map","puzzle","answer","error","askQuestion","soupBase","chatHistory","question","safeChatHistory","Array","isArray","cond","i","join","forEach","push","startsWith","replace","isCorrect","partial","hint","JSON","stringify","isLoading","ref","gameOver","formatTime","timestamp","date","Date","toLocaleTimeString","hour","minute","startGame","value","puzzleText","scrollToBottom","handleSubmit","userQuestion","now","conditionsList","restartGame","nextTick","container","document","getElementById","scrollTop","scrollHeight","onMounted","_createElementBlock","_hoisted_1","_createElementVNode","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_toDisplayString","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_cache","_Fragment","_renderList","index","key","_normalizeClass","_hoisted_11","_hoisted_12","_hoisted_13","onClick","_hoisted_14","onSubmit","_withModifiers","$event","type","placeholder","disabled","_hoisted_16","_createVNode","GameContainer","routes","path","name","component","GameView","router","createRouter","history","createWebHistory","createApp","App","use","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","call","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","Object","keys","every","splice","r","d","definition","o","defineProperty","enumerable","get","g","globalThis","this","Function","e","window","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","id","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}